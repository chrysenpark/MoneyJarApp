{"ast":null,"code":"import _slicedToArray from\"/Users/ChrysenPark/Downloads/MoneyJarApp/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from'react';import axios from\"axios\";import history from\"./history\";import Wrapper from\"./Components/Wrapper\";import Title from\"./Components/Title\";var Login=function Login(_ref){var onLoginSuccess=_ref.onLoginSuccess;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),loginError=_useState6[0],setLoginError=_useState6[1];var handleChange=function handleChange(setField){return function(event){setField(event.target.value);setLoginError(false);};};var logIn=function logIn(event){event.preventDefault();axios.post('http://localhost:8080/api/login',{username:username,password:password}).then(function(response){console.log(response);localStorage.setItem('user',username);history.push(\"/dashboard\");}).catch(function(loginError){setLoginError(loginError.response.data.message);});};return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(Title,{main:\"Log In\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:logIn,children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"username\",children:[\"username \\xA0\\xA0\",/*#__PURE__*/_jsx(\"input\",{value:username,onChange:handleChange(setUsername),name:\"username\",type:\"username\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"password\",children:[\"password \\xA0\\xA0\",/*#__PURE__*/_jsx(\"input\",{value:password,onChange:handleChange(setPassword),name:\"password\",type:\"password\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"}),loginError&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:loginError})]})]});};export default Login;","map":{"version":3,"sources":["/Users/ChrysenPark/Downloads/MoneyJarApp/src/main/frontend/src/login.js"],"names":["React","useState","axios","history","Wrapper","Title","Login","onLoginSuccess","username","setUsername","password","setPassword","loginError","setLoginError","handleChange","setField","event","target","value","logIn","preventDefault","post","then","response","console","log","localStorage","setItem","push","catch","data","message","color"],"mappings":"yQAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAsB,IAApBC,CAAAA,cAAoB,MAApBA,cAAoB,eACAN,QAAQ,CAAC,EAAD,CADR,wCACzBO,QADyB,eACfC,WADe,8BAEAR,QAAQ,CAAC,EAAD,CAFR,yCAEzBS,QAFyB,eAEfC,WAFe,8BAGIV,QAAQ,CAAC,IAAD,CAHZ,yCAGzBW,UAHyB,eAGbC,aAHa,eAMhC,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,QAAD,QAAc,UAACC,KAAD,CAAW,CAC1CD,QAAQ,CAACC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR,CACAL,aAAa,CAAC,KAAD,CAAb,CACH,CAHoB,EAArB,CAMA,GAAMM,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACH,KAAD,CAAW,CACrBA,KAAK,CAACI,cAAN,GACAlB,KAAK,CAACmB,IAAN,CAAW,iCAAX,CAA8C,CAC1Cb,QAAQ,CAAEA,QADgC,CAE1CE,QAAQ,CAAEA,QAFgC,CAA9C,EAGGY,IAHH,CAGQ,SAACC,QAAD,CAAc,CAClBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAG,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BnB,QAA7B,EACAL,OAAO,CAACyB,IAAR,CAAa,YAAb,EACH,CAPD,EAOGC,KAPH,CAOS,SAACjB,UAAD,CAAgB,CACrBC,aAAa,CAACD,UAAU,CAACW,QAAX,CAAoBO,IAApB,CAAyBC,OAA1B,CAAb,CACH,CATD,EAUH,CAZD,CAcA,mBACI,MAAC,OAAD,yBACI,KAAC,KAAD,EAAO,IAAI,CAAI,QAAf,EADJ,cAEI,cAAM,QAAQ,CAAEZ,KAAhB,wBACI,eAAO,OAAO,CAAC,UAAf,4CAGI,cACI,KAAK,CAAEX,QADX,CAEI,QAAQ,CAAEM,YAAY,CAACL,WAAD,CAF1B,CAGI,IAAI,CAAC,UAHT,CAII,IAAI,CAAC,UAJT,EAHJ,GADJ,cAWI,aAXJ,cAYI,aAZJ,cAaI,eAAO,OAAO,CAAC,UAAf,4CAGI,cACI,KAAK,CAAEC,QADX,CAEI,QAAQ,CAAEI,YAAY,CAACH,WAAD,CAF1B,CAGI,IAAI,CAAC,UAHT,CAII,IAAI,CAAC,UAJT,EAHJ,GAbJ,cAuBI,aAvBJ,cAwBI,aAxBJ,cAyBI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,EAzBJ,CA0BKC,UAAU,eAAI,UAAG,KAAK,CAAE,CAACoB,KAAK,CAAE,KAAR,CAAV,UAA2BpB,UAA3B,EA1BnB,GAFJ,GADJ,CAiCH,CA3DD,CA6DA,cAAeN,CAAAA,KAAf","sourcesContent":["import React, {useState} from 'react';\nimport axios from \"axios\";\nimport history from \"./history\";\nimport Wrapper from \"./Components/Wrapper\";\nimport Title from \"./Components/Title\";\n\nconst Login = ({onLoginSuccess}) => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [loginError, setLoginError] = useState(null);\n\n\n    const handleChange = (setField) => (event) => {\n        setField(event.target.value);\n        setLoginError(false);\n    };\n\n\n    const logIn = (event) => {\n        event.preventDefault();\n        axios.post('http://localhost:8080/api/login', {\n            username: username,\n            password: password,\n        }).then((response) => {\n            console.log(response);\n            localStorage.setItem('user', username);\n            history.push(\"/dashboard\");\n        }).catch((loginError) => {\n            setLoginError(loginError.response.data.message);\n        });\n    };\n\n    return (\n        <Wrapper>\n            <Title main = {\"Log In\"}/>\n            <form onSubmit={logIn}>\n                <label htmlFor=\"username\">\n                    username\n                    &nbsp;&nbsp;\n                    <input\n                        value={username}\n                        onChange={handleChange(setUsername)}\n                        name=\"username\"\n                        type=\"username\"\n                    />\n                </label>\n                <br/>\n                <br/>\n                <label htmlFor=\"password\">\n                    password\n                    &nbsp;&nbsp;\n                    <input\n                        value={password}\n                        onChange={handleChange(setPassword)}\n                        name=\"password\"\n                        type=\"password\"\n                    />\n                </label>\n                <br/>\n                <br/>\n                <input type=\"submit\" value=\"Submit\" />\n                {loginError && <p style={{color: 'red'}}>{loginError}</p>}\n            </form>\n        </Wrapper>\n    );\n};\n\nexport default Login;\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}