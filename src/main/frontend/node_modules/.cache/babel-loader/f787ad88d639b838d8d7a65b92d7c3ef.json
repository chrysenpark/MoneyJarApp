{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/ChrysenPark/Downloads/MoneyJarApp/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from\"axios\";import history from\"./history\";import Jar from\"./Components/Jar\";import Button from\"./Components/Buttons\";import Wrapper from\"./Components/Wrapper\";import Message from\"./Components/Message\";import Title from\"./Components/Title\";import OpenJar from\"./Components/OpenJar\";import{get}from\"lodash-es\";var jarInfo=JSON.parse(localStorage.getItem('jar'));var username=localStorage.getItem('user');var deleteJar=function deleteJar(event){event.preventDefault();axios.delete('http://localhost:8080/api/jars/'+username+'/'+jarInfo.id).then(function(response){history.push(\"/dashboard\");localStorage.removeItem('jar');window.location.reload();}).catch(function(err){console.log(err);});};function JarContents(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),donation=_useState2[0],setDonation=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),contributor=_useState4[0],setContributor=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),rename=_useState6[0],setRename=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),shareError=_useState8[0],setShareError=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),shareSuccess=_useState10[0],setShareSuccess=_useState10[1];var donate=function donate(event){event.preventDefault();var username=window.localStorage.getItem('user');return axios.put('http://localhost:8080/api/jars/donate/'+username+\"/\"+jarInfo.id,donation,{\"headers\":{\"content-type\":\"application/json\"}}).then(function(response){jarInfo.amount=parseInt(jarInfo.amount)+parseInt(donation);localStorage.setItem('jar',JSON.stringify(jarInfo));window.location.reload();console.log(response);}).catch(function(err){console.log(err);});};var shareJar=function shareJar(event){event.preventDefault();return axios.post('http://localhost:8080/api/jars/share/'+jarInfo.id,contributor,{\"headers\":{\"content-type\":\"application/json\"}}).then(function(response){console.log(response);var message=get(shareSuccess,'response.data.error_description','Successfully shared!');setShareSuccess(message);}).catch(function(shareError){setShareError(shareError.response.data.message);});};var renameJar=function renameJar(event){event.preventDefault();return axios.put('http://localhost:8080/api/jars/rename/'+jarInfo.id,rename,{\"headers\":{\"content-type\":\"application/json\"}}).then(function(response){jarInfo.name=rename;localStorage.setItem('jar',JSON.stringify(jarInfo));window.location.reload();console.log(response);}).catch(function(err){console.log(err);});};var handleChange=function handleChange(setField){return function(event){setField(event.target.value);};};return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'relative',left:-650},children:/*#__PURE__*/_jsx(Button,{type:\"button\",buttonStyle:\"btn--play--solid\",buttonSize:\"btn-small\",onClick:function onClick(){localStorage.removeItem('jar');history.push(\"/dashboard\");window.location.reload();},children:\"Back to Jars\"})}),/*#__PURE__*/_jsx(Title,{main:jarInfo.name+' Jar'}),/*#__PURE__*/_jsx(OpenJar,{Name:jarInfo.name,Amount:jarInfo.amount}),/*#__PURE__*/_jsx(Message,{message:\"\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{type:\"button\",buttonStyle:\"btn--warning--solid\",buttonSize:\"btn-small\",onClick:donate,children:\"Donate\"}),\"\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"input\",{value:donation,onChange:handleChange(setDonation),type:\"number\"})]}),/*#__PURE__*/_jsx(Message,{message:\"\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{type:\"button\",buttonStyle:\"btn--team--solid\",buttonSize:\"btn-small\",onClick:shareJar,children:\"Share\"}),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"input\",{value:contributor,onChange:handleChange(setContributor),type:\"text\"}),shareError&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:shareError}),shareSuccess&&/*#__PURE__*/_jsx(\"p\",{style:{color:'green'},children:shareSuccess})]}),/*#__PURE__*/_jsx(Message,{message:\"\"}),jarInfo.creator===username&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{type:\"button\",buttonStyle:\"btn--primary--solid\",buttonSize:\"btn-small\",onClick:renameJar,children:\"Rename\"}),\"\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"input\",{value:rename,onChange:handleChange(setRename),type:\"text\"})]}),/*#__PURE__*/_jsx(Message,{message:\"\"}),jarInfo.creator===username&&/*#__PURE__*/_jsx(Button,{type:\"button\",buttonStyle:\"btn--danger--solid\",buttonSize:\"btn-small\",onClick:deleteJar,children:\"Delete\"})]});}export default JarContents;","map":{"version":3,"sources":["/Users/ChrysenPark/Downloads/MoneyJarApp/src/main/frontend/src/JarContents.js"],"names":["React","useEffect","useState","axios","history","Jar","Button","Wrapper","Message","Title","OpenJar","get","jarInfo","JSON","parse","localStorage","getItem","username","deleteJar","event","preventDefault","delete","id","then","response","push","removeItem","window","location","reload","catch","err","console","log","JarContents","donation","setDonation","contributor","setContributor","rename","setRename","shareError","setShareError","shareSuccess","setShareSuccess","donate","put","amount","parseInt","setItem","stringify","shareJar","post","message","data","renameJar","name","handleChange","setField","target","value","position","left","color","creator"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from \"axios\";\nimport history from \"./history\";\nimport Jar from \"./Components/Jar\";\nimport Button from \"./Components/Buttons\";\nimport Wrapper from \"./Components/Wrapper\";\nimport Message from \"./Components/Message\";\nimport Title from \"./Components/Title\";\nimport OpenJar from \"./Components/OpenJar\";\nimport {get} from \"lodash-es\";\n\n\nconst jarInfo = JSON.parse(localStorage.getItem('jar'));\nconst username = localStorage.getItem('user');\nconst deleteJar = (event) => {\n    event.preventDefault();\n    axios.delete('http://localhost:8080/api/jars/' + username + '/' + jarInfo.id\n    ).then((response) => {\n        history.push(\"/dashboard\");\n        localStorage.removeItem('jar');\n        window.location.reload();\n    }).catch((err) => {\n        console.log(err);\n    });\n};\n\nfunction JarContents() {\n    const [donation, setDonation] = useState('');\n    const [contributor, setContributor] = useState('');\n    const [rename, setRename] = useState('');\n    const [shareError, setShareError] = useState(null);\n    const [shareSuccess, setShareSuccess] = useState(null);\n    const donate = (event) => {\n        event.preventDefault();\n        const username = window.localStorage.getItem('user');\n        return axios.put('http://localhost:8080/api/jars/donate/' + username + \"/\" + jarInfo.id,  donation, {\n            \"headers\": {\n                \"content-type\": \"application/json\",\n            },\n        }\n        ).then((response) => {\n            jarInfo.amount = parseInt(jarInfo.amount) + parseInt(donation);\n            localStorage.setItem('jar', JSON.stringify(jarInfo));\n            window.location.reload();\n            console.log(response);\n        }).catch((err) => {\n            console.log(err);\n        });\n    };\n\n\n    const shareJar = (event) => {\n        event.preventDefault();\n        return axios.post('http://localhost:8080/api/jars/share/' + jarInfo.id, contributor, {\n                \"headers\": {\n                    \"content-type\": \"application/json\",\n                },\n            }\n        ).then((response) => {\n            console.log(response);\n            const message = get(\n                shareSuccess,\n                'response.data.error_description',\n                'Successfully shared!',\n            );\n            setShareSuccess(message);\n        }).catch((shareError) => {\n            setShareError(shareError.response.data.message);\n        });\n    };\n\n\n    const renameJar = (event) => {\n        event.preventDefault();\n        return axios.put('http://localhost:8080/api/jars/rename/' + jarInfo.id, rename, {\n                \"headers\": {\n                    \"content-type\": \"application/json\",\n                },\n            }\n        ).then((response) => {\n            jarInfo.name = rename;\n            localStorage.setItem('jar', JSON.stringify(jarInfo));\n            window.location.reload();\n            console.log(response);\n        }).catch((err) => {\n            console.log(err);\n        });\n    };\n\n    const handleChange = (setField) => (event) => {\n        setField(event.target.value);\n    };\n\n    return (\n        <Wrapper>\n            <div  style= {{position: 'relative', left: -650}}>\n            <Button type =\"button\"  buttonStyle=\"btn--play--solid\" buttonSize=\"btn-small\"\n                    onClick={() =>  {\n                        localStorage.removeItem('jar');\n                        history.push(\"/dashboard\");\n                        window.location.reload();\n                    }}>Back to Jars</Button>\n            </div>\n            <Title main = {jarInfo.name + ' Jar'}/>\n            <OpenJar\n                Name = {jarInfo.name}\n                Amount = {jarInfo.amount}\n            />\n            <Message message={\"\"} />\n            <div>\n                <Button type =\"button\"  buttonStyle=\"btn--warning--solid\" buttonSize=\"btn-small\" onClick={donate}>\n                    Donate\n                </Button>\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                <input\n                    value = {donation}\n                    onChange={handleChange(setDonation)}\n                    type= \"number\"\n                />\n            </div>\n            <Message message={\"\"} />\n            <div>\n                <Button type =\"button\"  buttonStyle=\"btn--team--solid\" buttonSize=\"btn-small\" onClick={shareJar}>\n                    Share\n                </Button>\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                <input\n                    value = {contributor}\n                    onChange={handleChange(setContributor)}\n                    type=\"text\"/>\n                    {shareError && <p style={{color: 'red'}}>{shareError}</p>}\n                    {shareSuccess && <p style={{color: 'green'}}>{shareSuccess}</p>}\n            </div>\n            <Message message={\"\"} />\n            {jarInfo.creator === username &&\n            <div>\n                <Button type =\"button\"  buttonStyle=\"btn--primary--solid\" buttonSize=\"btn-small\" onClick={renameJar}>\n                    Rename\n                </Button>\n                &nbsp;&nbsp;&nbsp;\n                <input\n                    value = {rename}\n                    onChange={handleChange(setRename)}\n                    type= \"text\"\n                />\n            </div>}\n            <Message message={\"\"} />\n            {jarInfo.creator === username && <Button type =\"button\"  buttonStyle=\"btn--danger--solid\" buttonSize=\"btn-small\" onClick={deleteJar}>Delete</Button>}\n        </Wrapper>\n    )\n}\n\nexport default JarContents;"]},"metadata":{},"sourceType":"module"}